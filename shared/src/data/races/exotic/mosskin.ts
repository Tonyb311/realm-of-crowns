import { RaceDefinition } from '../../../types/race';

export const mosskin: RaceDefinition = {
  id: 'mosskin',
  name: 'Mosskin',
  tier: 'exotic',
  lore: "Mosskin are gentle, nature-loving giants (7-8 feet tall) who live in hidden glens deep within the oldest forests. They can speak to plants and animals, change their appearance to blend with nature, and would rather talk to a tree than attend a council meeting. Most people in Aethermere have never seen a Mosskin â€” and that's exactly how Mosskin like it. When they do interact with the outside world, it's usually because something threatens the natural balance. They are the most powerful druids and healers in existence, and their herbal knowledge surpasses even the Elves'.",
  trait: {
    name: "Nature's Guardian",
    description: 'Immense wisdom and connection to the natural world.',
  },
  statModifiers: { str: 2, dex: 0, con: 2, int: 0, wis: 4, cha: 0 },
  abilities: [
    {
      name: 'Speech of Beast and Leaf',
      description: 'Can communicate with animals and plants (unlock unique quests)',
      levelRequired: 1,
      type: 'passive',
      effectType: 'communication',
      effectValue: { speakToAnimals: true, speakToPlants: true, uniqueQuests: true },
      targetType: 'self',
    },
    {
      name: 'Hidden Step',
      description: 'Turn invisible until next turn or until you attack',
      levelRequired: 5,
      type: 'active',
      effectType: 'stealth',
      effectValue: { invisible: true, breaksOnAttack: true },
      cooldownSeconds: 14400,
      targetType: 'self',
    },
    {
      name: 'Druidic Magic',
      description: 'Nature spells cost 25% less mana and deal 20% more',
      levelRequired: 10,
      type: 'passive',
      effectType: 'spell_enhancement',
      effectValue: { manaCostReduction: 0.25, natureDamageBonus: 0.20, scope: 'nature_spells' },
      targetType: 'self',
    },
    {
      name: "Nature's Bounty",
      description: '+30% yield on ALL gathering in natural areas (forest, plains, rivers)',
      levelRequired: 15,
      type: 'passive',
      effectType: 'gathering_bonus',
      effectValue: { yieldBonus: 0.30, terrains: ['forest', 'plains', 'rivers'] },
      targetType: 'self',
    },
    {
      name: 'Powerful Build',
      description: 'Carry capacity doubled',
      levelRequired: 25,
      type: 'passive',
      effectType: 'physical_enhancement',
      effectValue: { carryCapacityMultiplier: 2 },
      targetType: 'self',
    },
    {
      name: 'Guardian Form',
      description: 'Transform into a Treant for 5 minutes: massive HP, STR, and nature damage AoE',
      levelRequired: 40,
      type: 'active',
      effectType: 'transformation',
      effectValue: { form: 'treant', massiveHp: true, massiveStr: true, natureDamageAoe: true },
      cooldownSeconds: 86400,
      duration: 300,
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'herbalism', speedBonus: 0, qualityBonus: 0.40, yieldBonus: 0.40, xpBonus: 0 },
    { professionType: 'farming', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.30, xpBonus: 0 },
    { professionType: 'cooking', speedBonus: 0, qualityBonus: 0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'healing', speedBonus: 0, qualityBonus: 0.20, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'mining', speedBonus: 0, qualityBonus: -0.25, yieldBonus: -0.25, xpBonus: 0 },
    { professionType: 'smelting', speedBonus: 0, qualityBonus: -0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'building', speedBonus: -0.20, qualityBonus: 0, yieldBonus: 0, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'herbs', biome: 'forest', bonusPercent: 20 },
    { resourceType: 'wood', biome: 'forest', bonusPercent: 15 },
    { resourceType: 'fiber', biome: 'forest', bonusPercent: 10 },
  ],
  homelandRegion: 'The Mistwood Glens',
  startingTowns: ['Misthaven', 'Rootholme'],
  exclusiveZone: 'Deepwood Groves',
  specialMechanics: {
    canTalkToAnimals: true,
    canTalkToPlants: true,
  },
};
