import { RaceDefinition } from '../../../types/race';

export const revenant: RaceDefinition = {
  id: 'revenant',
  name: 'Revenants',
  tier: 'exotic',
  lore: "Revenants are mortals who died and came back — and kept coming back. The Ashenmoor was once the site of a catastrophic magical battle that tore the veil between life and death. Now, anyone who dies on its soil rises again. Over centuries, a community of the perpetually undying has formed. Revenants look mostly like their original race but with telltale signs: pale skin, faintly glowing eyes, visible veins of necromantic energy, and sometimes visible old wounds that never fully close. They don't rot like zombies — they're fully conscious, fully sentient, and fully annoyed at being perpetually stuck between life and death. Most other races find them deeply unsettling.",
  trait: {
    name: 'Deathless',
    description: 'Extraordinarily hard to kill, but unsettling to the living.',
  },
  statModifiers: { str: 2, dex: 0, con: 3, int: 1, wis: 2, cha: -2 },
  abilities: [
    {
      name: 'Undying',
      description: 'When killed, respawn in 50% of normal time with 50% HP (not full death penalty)',
      levelRequired: 1,
      type: 'passive',
      effectType: 'death_reduction',
      effectValue: { respawnTimeMultiplier: 0.50, respawnHpPercent: 0.50, deathPenaltyMultiplier: 0.50 },
      targetType: 'self',
    },
    {
      name: 'Necrotic Resistance',
      description: 'Immune to necrotic damage, immune to disease',
      levelRequired: 5,
      type: 'passive',
      effectType: 'immunity',
      effectValue: { necroticImmunity: true, diseaseImmunity: true },
      targetType: 'self',
    },
    {
      name: "Death's Insight",
      description: 'Can see the HP percentage of all enemies and players',
      levelRequired: 10,
      type: 'passive',
      effectType: 'detection',
      effectValue: { seeHpPercent: true, scope: 'all_entities' },
      targetType: 'self',
    },
    {
      name: 'Life Drain',
      description: 'Melee attack that heals you for 50% of damage dealt',
      levelRequired: 15,
      type: 'active',
      effectType: 'lifesteal',
      effectValue: { lifestealPercent: 0.50, usesPerCombat: 1 },
      targetType: 'enemy',
    },
    {
      name: 'Undying Fortitude',
      description: 'Once per combat, negate a killing blow entirely',
      levelRequired: 25,
      type: 'passive',
      effectType: 'death_prevention',
      effectValue: { negateKillingBlow: true, usesPerCombat: 1 },
      targetType: 'self',
    },
    {
      name: 'Army of the Dead',
      description: 'Summon 3 skeletal warriors to fight alongside you for 1 combat',
      levelRequired: 40,
      type: 'active',
      effectType: 'summon',
      effectValue: { summonType: 'skeletal_warrior', count: 3, durationCombats: 1 },
      cooldownSeconds: 172800,
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'herbalism', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.25, xpBonus: 0 },
    { professionType: 'alchemy', speedBonus: 0, qualityBonus: 0.20, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'mining', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.15, xpBonus: 0 },
    { professionType: 'hunting', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.15, xpBonus: 0 },
    { professionType: 'cooking', speedBonus: 0, qualityBonus: -0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'reputation', speedBonus: 0, qualityBonus: 0, yieldBonus: -0.20, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'hide', biome: 'any', bonusPercent: 10 },
    { resourceType: 'herbs', biome: 'underground', bonusPercent: 10 },
  ],
  homelandRegion: 'The Ashenmoor',
  startingTowns: ['Ashenmoor'],
  exclusiveZone: 'Ashenmoor Deadlands',
  specialMechanics: {
    reducedDeathPenalty: 0.5,
    fasterRespawn: 0.5,
    reducedDeathPenaltyDetails: {
      description: "Revenants' biggest advantage is death means less to them. While other players lose gold, XP, and equipment durability on death, Revenants lose only half the penalty and respawn faster.",
      deathPenaltyMultiplier: 0.50,
      respawnTimeMultiplier: 0.50,
    },
    sustenance: {
      type: 'soul_essence',
      description: 'Revenants do not eat or drink. Instead, they require Soul Essence — an alchemical stabilizer crafted by Alchemists. Without it, your spirit begins to fade, causing stat penalties.',
    },
  },
};
