import { RaceDefinition } from '../../../types/race';

export const elementari: RaceDefinition = {
  id: 'elementari',
  name: 'Elementari',
  tier: 'exotic',
  lore: 'Elementari are mortals infused with elemental energy — the result of ancient planar rifts that still bleed raw elemental power into Aethermere. Each Elementari manifests one element: skin that flickers with flame, hair that flows like water, eyes of solid earth, or voices that carry on the wind. They gather at the Confluence, where four elemental rifts converge, and the very air crackles with power. Elementari are walking fonts of elemental magic — valued as enchanters, smelters, and specialist crafters who can infuse their element into their work.',
  trait: {
    name: 'Elemental Soul',
    description: 'Balanced with strong elemental affinity.',
  },
  statModifiers: { str: 1, dex: 1, con: 1, int: 2, wis: 1, cha: 1 },
  abilities: [
    {
      name: 'Elemental Resistance',
      description: 'Half damage from your element',
      levelRequired: 1,
      type: 'passive',
      effectType: 'resistance',
      effectValue: { ownElementResistance: 0.50 },
      targetType: 'self',
    },
    {
      name: 'Elemental Cantrip',
      description: 'Minor elemental attack: 1d6 matching element damage',
      levelRequired: 5,
      type: 'active',
      effectType: 'elemental_attack',
      effectValue: { damage: '1d6', damageType: 'matching_element' },
      targetType: 'enemy',
    },
    {
      name: 'Elemental Infusion',
      description: 'Items you craft have +10% elemental damage of your type',
      levelRequired: 10,
      type: 'passive',
      effectType: 'crafting_bonus',
      effectValue: { elementalDamageInfusion: 0.10 },
      targetType: 'self',
    },
    {
      name: 'Planar Attunement',
      description: '+25% gathering yield at elemental rift zones',
      levelRequired: 15,
      type: 'passive',
      effectType: 'gathering_bonus',
      effectValue: { yieldBonus: 0.25, scope: 'elemental_rifts' },
      targetType: 'self',
    },
    {
      name: 'Elemental Burst',
      description: 'AoE 3d8 elemental damage matching your type',
      levelRequired: 25,
      type: 'active',
      effectType: 'aoe_attack',
      effectValue: { damage: '3d8', damageType: 'matching_element', usesPerCombat: 1 },
      targetType: 'aoe',
    },
    {
      name: 'Primordial Awakening',
      description: 'Transform into elemental form: immune to physical damage, deal 2d10 elemental damage/turn, lasts 3 turns',
      levelRequired: 40,
      type: 'active',
      effectType: 'transformation',
      effectValue: { physicalImmunity: true, damagePerTurn: '2d10', durationTurns: 3 },
      cooldownSeconds: 172800,
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'element_specific_crafting', speedBonus: 0.25, qualityBonus: 0.20, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'element_specific_gathering', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.15, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'ore', biome: 'volcanic', bonusPercent: 10 },
    { resourceType: 'fish', biome: 'coast', bonusPercent: 15 },
    { resourceType: 'stone', biome: 'mountains', bonusPercent: 15 },
    { resourceType: 'fiber', biome: 'plains', bonusPercent: 10 },
  ],
  subRaces: [
    {
      id: 'fire',
      name: 'Fire Elementari',
      description: 'Flickering skin, ember eyes, warm to touch. +25% smelting speed, +20% blacksmithing. Fire-infused weapons.',
      bonusStat: 'cha',
      bonusValue: 2,
      element: 'fire',
      resistance: 'fire',
    },
    {
      id: 'water',
      name: 'Water Elementari',
      description: 'Blue-tinged skin, flowing hair, cool touch. +25% alchemy potency, +20% brewing. Water-blessed potions.',
      bonusStat: 'wis',
      bonusValue: 2,
      element: 'water',
      resistance: 'cold',
    },
    {
      id: 'earth',
      name: 'Earth Elementari',
      description: 'Stone-like skin, gem eyes, heavy. +25% masonry, +20% mining yield. Stone-reinforced armor.',
      bonusStat: 'con',
      bonusValue: 2,
      element: 'earth',
      resistance: 'bludgeoning',
    },
    {
      id: 'air',
      name: 'Air Elementari',
      description: 'Pale skin, windswept hair, weightless feel. +25% fletching, +20% enchanting. Wind-enchanted ranged weapons.',
      bonusStat: 'dex',
      bonusValue: 2,
      element: 'air',
      resistance: 'lightning',
    },
  ],
  homelandRegion: 'The Confluence',
  startingTowns: ['The Confluence', 'Emberheart'],
  exclusiveZone: 'Elemental Rifts',
  specialMechanics: {
    elementSpecificBonuses: {
      fire: { smeltingSpeed: 0.25, blacksmithing: 0.20, volcanicMining: 0.15, special: 'Fire-infused weapons' },
      water: { alchemyPotency: 0.25, brewing: 0.20, fishingYield: 0.20, special: 'Water-blessed potions' },
      earth: { masonry: 0.25, miningYield: 0.20, underground: 0.15, special: 'Stone-reinforced armor' },
      air: { fletching: 0.25, enchanting: 0.20, herbGathering: 0.15, special: 'Wind-enchanted ranged weapons' },
    },
  },
};
