import { RaceDefinition } from '../../../types/race';

export const forgeborn: RaceDefinition = {
  id: 'forgeborn',
  name: 'Forgeborn',
  tier: 'exotic',
  lore: "Forgeborn are sentient constructs — humanoid beings made of metal, wood, and arcane energy. They were created centuries ago by a forgotten civilization as soldiers and workers. When their creators vanished, the Forgeborn were left without purpose. Over time, they developed true consciousness, emotions (in their own mechanical way), and a fierce desire for self-determination. They don't eat, sleep, or breathe — but they do need maintenance, magical energy, and occasional repairs. The Foundry, their home, is an ancient ruin they've partially restored, filled with construction bays and arcane power conduits. Other races aren't sure whether to treat them as people or tools — a source of deep tension.",
  trait: {
    name: 'Living Construct',
    description: "Doesn't eat, sleep, or breathe. Repaired, not healed.",
  },
  statModifiers: { str: 2, dex: 0, con: 3, int: 2, wis: 0, cha: -2 },
  abilities: [
    {
      name: 'Constructed Resilience',
      description: "Immune to poison, disease, sleep. Don't need food or rest.",
      levelRequired: 1,
      type: 'passive',
      effectType: 'immunity',
      effectValue: { poisonImmunity: true, diseaseImmunity: true, sleepImmunity: true, noFood: true, noRest: true },
      targetType: 'self',
    },
    {
      name: 'Integrated Armor',
      description: "+1 AC, can integrate armor INTO body (can't be disarmed of armor)",
      levelRequired: 5,
      type: 'passive',
      effectType: 'armor_bonus',
      effectValue: { acBonus: 1, integratedArmor: true },
      targetType: 'self',
    },
    {
      name: 'Tireless Worker',
      description: 'No fatigue penalties, can queue 50% more crafting/gathering actions',
      levelRequired: 10,
      type: 'passive',
      effectType: 'stamina',
      effectValue: { noFatigue: true, actionQueueBonus: 0.50 },
      targetType: 'self',
    },
    {
      name: 'Self-Repair',
      description: 'Heal 30% of max HP without potions (requires 10 min and repair materials)',
      levelRequired: 15,
      type: 'active',
      effectType: 'healing',
      effectValue: { healPercent: 0.30, requiresMaterials: true },
      cooldownSeconds: 28800,
      duration: 600,
      targetType: 'self',
    },
    {
      name: 'Overclock',
      description: 'Double all crafting/gathering speed for 1 hour (risk: 10% chance of temporary stat loss)',
      levelRequired: 25,
      type: 'active',
      effectType: 'speed_boost',
      effectValue: { craftGatherSpeedMultiplier: 2.0, riskChance: 0.10, riskEffect: 'temporary_stat_loss' },
      cooldownSeconds: 86400,
      duration: 3600,
      targetType: 'self',
    },
    {
      name: 'Siege Mode',
      description: "Root in place, gain +5 AC and +50% ranged damage for 3 turns (can't move)",
      levelRequired: 40,
      type: 'active',
      effectType: 'combat_stance',
      effectValue: { acBonus: 5, rangedDamageBonus: 0.50, rooted: true, durationTurns: 3, usesPerCombat: 1 },
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'smelting', speedBonus: 0, qualityBonus: 0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'all_crafting', speedBonus: 0.25, qualityBonus: 0, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'mining', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.20, xpBonus: 0 },
    { professionType: 'masonry', speedBonus: 0, qualityBonus: 0.15, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'cooking', speedBonus: 0, qualityBonus: -0.30, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'brewing', speedBonus: 0, qualityBonus: -0.30, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'herbalism', speedBonus: 0, qualityBonus: -0.20, yieldBonus: 0, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'ore', biome: 'any', bonusPercent: 10 },
    { resourceType: 'stone', biome: 'any', bonusPercent: 10 },
  ],
  homelandRegion: 'The Foundry',
  startingTowns: ['The Foundry'],
  exclusiveZone: 'The Foundry Core',
  specialMechanics: {
    noFood: true,
    noSleep: true,
    needsMaintenance: true,
    sustenance: {
      type: 'maintenance_kit',
      description: 'Forgeborn do not eat or drink. They require Maintenance Kits crafted by Smelters to prevent structural decay.',
      consumable: 'Maintenance Kit',
      refinedConsumable: 'Precision Maintenance Kit',
      debuffName: 'Structural Decay',
      craftedBy: 'SMELTER',
    },
    professionRestriction: {
      cantBe: ['healer'],
      reason: "Don't understand biological healing",
    },
  },
};
