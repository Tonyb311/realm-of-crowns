import { RaceDefinition } from '../../../types/race';

export const dwarf: RaceDefinition = {
  id: 'dwarf',
  name: 'Dwarves',
  tier: 'core',
  lore: 'Dwarves carved their civilization into the bones of the Ironvault Mountains. Their underground cities are vast complexes of halls, forges, and mines illuminated by magma and phosphorescent crystals. Dwarven craftsmanship is the gold standard â€” a Dwarven blade is worth three Human-made ones. Their eternal foes are the Orcs of Ashenfang.',
  trait: {
    name: 'Stoneborn',
    description: 'Incredibly tough, but slow and not the most charming.',
  },
  statModifiers: { str: 2, dex: -1, con: 3, int: 1, wis: 1, cha: 0 },
  abilities: [
    {
      name: 'Deepsight',
      description: 'Access deep mine nodes others can\'t reach',
      levelRequired: 1,
      type: 'passive',
      effectType: 'zone_access',
      effectValue: { accessZone: 'deep_mines' },
      targetType: 'self',
    },
    {
      name: 'Dwarven Resilience',
      description: 'Poison resistance, +3 poison saving throws',
      levelRequired: 5,
      type: 'passive',
      effectType: 'resistance',
      effectValue: { poisonResistance: true, poisonSaveBonus: 3 },
      targetType: 'self',
    },
    {
      name: 'Master Forger',
      description: '+3 to Blacksmith/Armorer quality rolls',
      levelRequired: 10,
      type: 'passive',
      effectType: 'crafting_bonus',
      effectValue: { qualityBonus: 3, professions: ['blacksmith', 'armorer'] },
      targetType: 'self',
    },
    {
      name: 'Stonecunning',
      description: '+25% mining yield, +10% gem discovery',
      levelRequired: 15,
      type: 'passive',
      effectType: 'gathering_bonus',
      effectValue: { miningYield: 0.25, gemDiscovery: 0.10 },
      targetType: 'self',
    },
    {
      name: 'Clan Loyalty',
      description: 'Same-race guild members get +5% crafting bonus',
      levelRequired: 25,
      type: 'passive',
      effectType: 'guild_buff',
      effectValue: { craftingBonus: 0.05, scope: 'same_race_guild' },
      targetType: 'party',
    },
    {
      name: 'Ancestral Fury',
      description: 'Below 25% HP: +5 STR and +5 CON',
      levelRequired: 40,
      type: 'passive',
      effectType: 'low_hp_buff',
      effectValue: { hpThreshold: 0.25, strBonus: 5, conBonus: 5 },
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'mining', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.30, xpBonus: 0 },
    { professionType: 'blacksmithing', speedBonus: 0, qualityBonus: 0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'armoring', speedBonus: 0, qualityBonus: 0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'smelting', speedBonus: 0.20, qualityBonus: 0, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'masonry', speedBonus: 0, qualityBonus: 0.15, yieldBonus: 0, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'ORE', biome: 'mountain', bonusPercent: 20 },
    { resourceType: 'STONE', biome: 'mountain', bonusPercent: 15 },
    { resourceType: 'ORE', biome: 'underground', bonusPercent: 15 },
  ],
  homelandRegion: 'The Ironvault Mountains',
  startingTowns: ['Kazad-Vorn', 'Deepvein', 'Hammerfall', 'Gemhollow', 'Alehearth'],
  exclusiveZone: 'Deep Mines',
};
