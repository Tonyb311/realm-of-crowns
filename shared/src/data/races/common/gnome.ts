import { RaceDefinition } from '../../../types/race';

export const gnome: RaceDefinition = {
  id: 'gnome',
  name: 'Gnomes',
  tier: 'common',
  lore: 'Where Dwarves see stone and forge iron, Gnomes see possibilities. These small, endlessly curious people live in elaborate burrow-cities filled with clockwork mechanisms, alchemical experiments, and at least one thing that\'s currently on fire. Gnomes are the engineers and mad scientists of Aethermere. Their inventions range from the brilliantly useful (clockwork water pumps, spring-loaded mining tools) to the spectacularly disastrous (the less said about the Gnomish Aerial Velocipede, the better). They get along well with Dwarves (who appreciate their craftsmanship if not their chaos) and Harthfolk (kindred small folk with shared business sense).',
  trait: {
    name: 'Inventive Mind',
    description: 'Brilliant intellect, tiny stature.',
  },
  statModifiers: { str: -2, dex: 2, con: 1, int: 4, wis: 1, cha: 1 },
  abilities: [
    {
      name: "Tinker's Insight",
      description: '+15% chance to craft items at one quality tier higher',
      levelRequired: 1,
      type: 'passive',
      effectType: 'crafting_bonus',
      effectValue: { qualityUpgradeChance: 0.15 },
      targetType: 'self',
    },
    {
      name: 'Gnome Cunning',
      description: 'Advantage on INT, WIS, CHA saves vs magic',
      levelRequired: 5,
      type: 'passive',
      effectType: 'save_advantage',
      effectValue: { advantage: true, saves: ['INT', 'WIS', 'CHA'], scope: 'vs_magic' },
      targetType: 'self',
    },
    {
      name: 'Efficient Engineering',
      description: 'Crafting uses 10% fewer materials',
      levelRequired: 10,
      type: 'passive',
      effectType: 'material_reduction',
      effectValue: { materialReduction: 0.10 },
      targetType: 'self',
    },
    {
      name: 'Clockwork Companion',
      description: 'Summon a clockwork helper: +10% gather/craft speed for 2 hours',
      levelRequired: 15,
      type: 'active',
      effectType: 'summon',
      effectValue: { gatherCraftSpeedBonus: 0.10 },
      cooldownSeconds: 28800,
      duration: 7200,
      targetType: 'self',
    },
    {
      name: 'Eureka Moment',
      description: 'Instantly complete one crafting project in progress',
      levelRequired: 25,
      type: 'active',
      effectType: 'instant_craft',
      effectValue: { instantComplete: true, count: 1 },
      cooldownSeconds: 86400,
      targetType: 'self',
    },
    {
      name: 'Grand Innovation',
      description: 'Once per week, craft an item with a unique random bonus property',
      levelRequired: 40,
      type: 'passive',
      effectType: 'crafting_bonus',
      effectValue: { uniqueBonusProperty: true, cooldownDays: 7 },
      targetType: 'self',
    },
  ],
  professionBonuses: [
    { professionType: 'engineering', speedBonus: 0, qualityBonus: 0.30, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'alchemy', speedBonus: 0, qualityBonus: 0.20, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'jeweling', speedBonus: 0, qualityBonus: 0.15, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'scribing', speedBonus: 0, qualityBonus: 0.15, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'all_crafting', speedBonus: 0.10, qualityBonus: 0, yieldBonus: 0, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'ore', biome: 'underground', bonusPercent: 12 },
    { resourceType: 'herbs', biome: 'any', bonusPercent: 8 },
    { resourceType: 'stone', biome: 'underground', bonusPercent: 5 },
  ],
  homelandRegion: 'The Cogsworth Warrens',
  startingTowns: ['Cogsworth', 'Sparkhollow', 'Fumblewick'],
};
