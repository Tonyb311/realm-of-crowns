import { RaceDefinition } from '../../../types/race';

export const faefolk: RaceDefinition = {
  id: 'faefolk',
  name: 'Faefolk',
  tier: 'common',
  lore: "Faefolk are small (2-3 feet tall), winged humanoids from the border between the mortal world and the Feywild — a parallel realm of wild magic, eternal twilight, and capricious spirits. They are creatures of pure magic: mischievous, emotional, and impossibly powerful for their size. Their moods shift like weather, their promises are binding magical contracts, and their pranks range from harmless to devastating. Faefolk don't fully understand mortal concepts like \"property\" or \"death\" — they find both confusing and a little sad. Playing as Faefolk is the game's \"hard mode\" for social and economic play — they're amazing at magic but terrible at conventional crafting and politics.",
  trait: {
    name: 'Fey Nature',
    description: 'Impossibly agile and magically gifted, fragile as glass.',
  },
  statModifiers: { str: -3, dex: 4, con: -2, int: 2, wis: 3, cha: 3 },
  abilities: [
    {
      name: 'Flutter',
      description: 'Can fly short distances (dodge ground traps, cross water)',
      levelRequired: 1,
      type: 'passive',
      effectType: 'movement',
      effectValue: { shortFlight: true, dodgeGroundTraps: true, crossWater: true },
      targetType: 'self',
    },
    {
      name: 'Fey Glamour',
      description: 'Disguise self as any small humanoid for 1 hour',
      levelRequired: 5,
      type: 'active',
      effectType: 'disguise',
      effectValue: { disguise: true, sizeLimit: 'small' },
      cooldownSeconds: 14400,
      duration: 3600,
      targetType: 'self',
    },
    {
      name: 'Wild Magic Surge',
      description: 'Spells have 10% chance to trigger a random bonus effect',
      levelRequired: 10,
      type: 'passive',
      effectType: 'spell_bonus',
      effectValue: { bonusEffectChance: 0.10, effectType: 'random' },
      targetType: 'self',
    },
    {
      name: 'Binding Promise',
      description: 'If another player breaks a deal with you, they get -3 all stats for 24 hours',
      levelRequired: 15,
      type: 'active',
      effectType: 'contract',
      effectValue: { penaltyOnBreak: { allStats: -3, durationHours: 24 } },
      cooldownSeconds: 86400,
      targetType: 'enemy',
    },
    {
      name: "Nature's Wrath",
      description: "Entangle all enemies in combat: they can't move for 2 turns",
      levelRequired: 25,
      type: 'active',
      effectType: 'crowd_control',
      effectValue: { entangle: true, durationTurns: 2 },
      cooldownSeconds: 43200,
      targetType: 'aoe',
    },
    {
      name: 'Feywild Gateway',
      description: 'Open a portal to the Feywild — access exclusive Fey resources and encounters',
      levelRequired: 40,
      type: 'active',
      effectType: 'portal',
      effectValue: { destination: 'feywild', exclusiveAccess: true },
      cooldownSeconds: 172800,
      targetType: 'aoe',
    },
  ],
  professionBonuses: [
    { professionType: 'enchanting', speedBonus: 0, qualityBonus: 0.35, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'herbalism', speedBonus: 0, qualityBonus: 0, yieldBonus: 0.30, xpBonus: 0 },
    { professionType: 'alchemy', speedBonus: 0, qualityBonus: 0.20, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'blacksmithing', speedBonus: 0, qualityBonus: -0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'armoring', speedBonus: 0, qualityBonus: -0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'mining', speedBonus: 0, qualityBonus: -0.25, yieldBonus: 0, xpBonus: 0 },
    { professionType: 'physical_crafting', speedBonus: -0.15, qualityBonus: 0, yieldBonus: 0, xpBonus: 0 },
  ],
  gatheringBonuses: [
    { resourceType: 'herbs', biome: 'any', bonusPercent: 20 },
    { resourceType: 'fiber', biome: 'any', bonusPercent: 10 },
    { resourceType: 'wood', biome: 'forest', bonusPercent: 5 },
  ],
  homelandRegion: 'The Glimmerveil',
  startingTowns: ['Glimmerheart', 'Dewdrop Hollow', 'Moonpetal Grove'],
  exclusiveZone: 'Feywild',
  specialMechanics: {
    hasFeywildAccess: true,
    canFly: true,
    fragile: true,
    feywildAccess: {
      description: 'At Level 40, Faefolk can open portals to the Feywild — a parallel zone with unique resources that can only be gathered there. Other races can enter if a Faefolk opens the portal, but they suffer disorientation penalties.',
      exclusiveResources: ['Moonpetal Flowers', 'Dreamweave Silk', 'Starlight Dust', 'Fey Iron'],
      levelRequired: 40,
    },
  },
};
