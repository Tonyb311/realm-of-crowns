/**
 * BLACKSMITH Recipes — 28 recipes across 3 tiers + specialization branches
 *
 * Apprentice (L3-4): 7 shared recipes (tools, weapons, armor)
 * Journeyman (L5-6): 9 shared recipes (steel-grade)
 * Craftsman (L7-8): 12 branch-exclusive recipes (4 per specialization)
 *
 * Specialization branches (permanent choice at L7):
 *   TOOLSMITH  — Premium tools with higher durability and yield bonuses
 *   WEAPONSMITH — Premium weapons with higher attack stats
 *   ARMORER    — Premium armor and shields with higher defense stats
 */

import { ITEMS, type FinishedGoodsRecipe } from './types';

// ============================================================
// SHARED — Apprentice (L3-4)
// ============================================================

const APPRENTICE_RECIPES: FinishedGoodsRecipe[] = [
  // --- Tools ---
  {
    recipeId: 'bs-iron-pickaxe',
    name: 'Forge Iron Pickaxe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 3,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.IRON_PICKAXE, quantity: 1 }],
    craftTime: 20,
    xpReward: 10,
    tier: 1,
    outputItemType: 'TOOL',
    outputStats: { durability: 20, yieldBonus: 15 },
    specialization: null,
  },
  {
    recipeId: 'bs-iron-hatchet',
    name: 'Forge Iron Hatchet',
    professionRequired: 'BLACKSMITH',
    levelRequired: 3,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.IRON_HATCHET, quantity: 1 }],
    craftTime: 20,
    xpReward: 10,
    tier: 1,
    outputItemType: 'TOOL',
    outputStats: { durability: 20, yieldBonus: 15 },
    specialization: null,
  },
  {
    recipeId: 'bs-iron-hoe',
    name: 'Forge Iron Hoe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 4,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 2 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.IRON_HOE, quantity: 1 }],
    craftTime: 20,
    xpReward: 10,
    tier: 1,
    outputItemType: 'TOOL',
    outputStats: { durability: 20, yieldBonus: 15 },
    specialization: null,
  },
  // --- Weapons ---
  {
    recipeId: 'bs-iron-sword',
    name: 'Forge Iron Sword',
    professionRequired: 'BLACKSMITH',
    levelRequired: 3,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 4 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.IRON_SWORD, quantity: 1 }],
    craftTime: 25,
    xpReward: 12,
    tier: 1,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 5,
      damageType: 'slashing',
      speed: 10,
      requiredStr: 5,
      requiredDex: 3,
      durability: 80,
      levelToEquip: 3,
    },
    specialization: null,
  },
  {
    recipeId: 'bs-iron-mace',
    name: 'Forge Iron Mace',
    professionRequired: 'BLACKSMITH',
    levelRequired: 4,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 5 },
    ],
    outputs: [{ itemName: ITEMS.IRON_MACE, quantity: 1 }],
    craftTime: 25,
    xpReward: 12,
    tier: 1,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 6,
      damageType: 'bludgeoning',
      speed: 8,
      requiredStr: 6,
      requiredDex: 2,
      durability: 90,
      levelToEquip: 3,
    },
    specialization: null,
  },
  // --- Armor ---
  {
    recipeId: 'bs-iron-chain-shirt',
    name: 'Forge Iron Chain Shirt',
    professionRequired: 'BLACKSMITH',
    levelRequired: 4,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 6 },
    ],
    outputs: [{ itemName: ITEMS.IRON_CHAIN_SHIRT, quantity: 1 }],
    craftTime: 30,
    xpReward: 14,
    tier: 1,
    outputItemType: 'ARMOR',
    equipSlot: 'CHEST',
    outputStats: {
      armor: 4,
      durability: 100,
      levelToEquip: 3,
      requiredStr: 5,
      movementPenalty: 0,
      stealthPenalty: 1,
    },
    specialization: null,
  },
  {
    recipeId: 'bs-wooden-shield',
    name: 'Craft Wooden Shield',
    professionRequired: 'BLACKSMITH',
    levelRequired: 3,
    inputs: [
      { itemName: ITEMS.WOOD_LOGS, quantity: 4 },
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.WOODEN_SHIELD, quantity: 1 }],
    craftTime: 20,
    xpReward: 10,
    tier: 1,
    outputItemType: 'ARMOR',
    equipSlot: 'OFF_HAND',
    outputStats: {
      armor: 3,
      durability: 60,
      levelToEquip: 3,
      movementPenalty: 0,
      stealthPenalty: 0,
    },
    specialization: null,
  },
];

// ============================================================
// SHARED — Journeyman (L5-6)
// ============================================================

const JOURNEYMAN_RECIPES: FinishedGoodsRecipe[] = [
  // --- Tools ---
  {
    recipeId: 'bs-steel-pickaxe',
    name: 'Forge Steel Pickaxe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 5,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_PICKAXE, quantity: 1 }],
    craftTime: 30,
    xpReward: 15,
    tier: 2,
    outputItemType: 'TOOL',
    outputStats: { durability: 35, yieldBonus: 25 },
    specialization: null,
  },
  {
    recipeId: 'bs-steel-hatchet',
    name: 'Forge Steel Hatchet',
    professionRequired: 'BLACKSMITH',
    levelRequired: 5,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_HATCHET, quantity: 1 }],
    craftTime: 30,
    xpReward: 15,
    tier: 2,
    outputItemType: 'TOOL',
    outputStats: { durability: 35, yieldBonus: 25 },
    specialization: null,
  },
  {
    recipeId: 'bs-steel-hoe',
    name: 'Forge Steel Hoe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 5,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_HOE, quantity: 1 }],
    craftTime: 25,
    xpReward: 14,
    tier: 2,
    outputItemType: 'TOOL',
    outputStats: { durability: 35, yieldBonus: 25 },
    specialization: null,
  },
  {
    recipeId: 'bs-herbalists-sickle',
    name: "Forge Herbalist's Sickle",
    professionRequired: 'BLACKSMITH',
    levelRequired: 6,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.HERBALISTS_SICKLE, quantity: 1 }],
    craftTime: 25,
    xpReward: 14,
    tier: 2,
    outputItemType: 'TOOL',
    outputStats: { durability: 35, yieldBonus: 25 },
    specialization: null,
  },
  {
    recipeId: 'bs-fishing-hook-set',
    name: 'Forge Fishing Hook Set',
    professionRequired: 'BLACKSMITH',
    levelRequired: 6,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.FISHING_HOOK_SET, quantity: 1 }],
    craftTime: 20,
    xpReward: 12,
    tier: 2,
    outputItemType: 'TOOL',
    outputStats: { durability: 35, yieldBonus: 25 },
    specialization: null,
  },
  // --- Weapons ---
  {
    recipeId: 'bs-steel-sword',
    name: 'Forge Steel Sword',
    professionRequired: 'BLACKSMITH',
    levelRequired: 5,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 4 },
      { itemName: ITEMS.COAL, quantity: 3 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_SWORD, quantity: 1 }],
    craftTime: 35,
    xpReward: 18,
    tier: 2,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 8,
      damageType: 'slashing',
      speed: 10,
      requiredStr: 7,
      requiredDex: 4,
      durability: 100,
      levelToEquip: 5,
    },
    specialization: null,
  },
  {
    recipeId: 'bs-steel-warhammer',
    name: 'Forge Steel Warhammer',
    professionRequired: 'BLACKSMITH',
    levelRequired: 6,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 5 },
      { itemName: ITEMS.COAL, quantity: 3 },
      { itemName: ITEMS.WOOD_LOGS, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_WARHAMMER, quantity: 1 }],
    craftTime: 40,
    xpReward: 20,
    tier: 2,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 10,
      damageType: 'bludgeoning',
      speed: 7,
      requiredStr: 9,
      requiredDex: 2,
      durability: 110,
      levelToEquip: 5,
    },
    specialization: null,
  },
  // --- Armor ---
  {
    recipeId: 'bs-steel-chain-mail',
    name: 'Forge Steel Chain Mail',
    professionRequired: 'BLACKSMITH',
    levelRequired: 5,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 6 },
      { itemName: ITEMS.COAL, quantity: 3 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_CHAIN_MAIL, quantity: 1 }],
    craftTime: 40,
    xpReward: 20,
    tier: 2,
    outputItemType: 'ARMOR',
    equipSlot: 'CHEST',
    outputStats: {
      armor: 7,
      durability: 130,
      levelToEquip: 5,
      requiredStr: 7,
      movementPenalty: 0,
      stealthPenalty: 2,
    },
    specialization: null,
  },
  {
    recipeId: 'bs-steel-helmet',
    name: 'Forge Steel Helmet',
    professionRequired: 'BLACKSMITH',
    levelRequired: 6,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.COAL, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.STEEL_HELMET, quantity: 1 }],
    craftTime: 30,
    xpReward: 16,
    tier: 2,
    outputItemType: 'ARMOR',
    equipSlot: 'HEAD',
    outputStats: {
      armor: 4,
      durability: 100,
      levelToEquip: 5,
      requiredStr: 5,
      movementPenalty: 0,
      stealthPenalty: 1,
    },
    specialization: null,
  },
];

// ============================================================
// TOOLSMITH — Craftsman Branch (L7-8)
// ============================================================

const TOOLSMITH_RECIPES: FinishedGoodsRecipe[] = [
  {
    recipeId: 'bs-silver-pickaxe',
    name: 'Forge Silver Pickaxe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.HARDWOOD, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_PICKAXE, quantity: 1 }],
    craftTime: 40,
    xpReward: 22,
    tier: 3,
    outputItemType: 'TOOL',
    outputStats: { durability: 50, yieldBonus: 40 },
    specialization: 'TOOLSMITH',
  },
  {
    recipeId: 'bs-hardwood-hatchet',
    name: 'Forge Hardwood Hatchet',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.IRON_ORE_CHUNKS, quantity: 3 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.HARDWOOD, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.HARDWOOD_HATCHET, quantity: 1 }],
    craftTime: 40,
    xpReward: 22,
    tier: 3,
    outputItemType: 'TOOL',
    outputStats: { durability: 50, yieldBonus: 40 },
    specialization: 'TOOLSMITH',
  },
  {
    recipeId: 'bs-hunters-knife',
    name: "Forge Hunter's Knife",
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
      { itemName: ITEMS.HARDWOOD, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.HUNTERS_KNIFE, quantity: 1 }],
    craftTime: 35,
    xpReward: 20,
    tier: 3,
    outputItemType: 'TOOL',
    outputStats: { durability: 50, yieldBonus: 40 },
    specialization: 'TOOLSMITH',
  },
  {
    recipeId: 'bs-reinforced-hoe',
    name: 'Forge Reinforced Hoe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 8,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
      { itemName: ITEMS.HARDWOOD, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.REINFORCED_HOE, quantity: 1 }],
    craftTime: 40,
    xpReward: 25,
    tier: 3,
    outputItemType: 'TOOL',
    outputStats: { durability: 50, yieldBonus: 40 },
    specialization: 'TOOLSMITH',
  },
];

// ============================================================
// WEAPONSMITH — Craftsman Branch (L7-8)
// ============================================================

const WEAPONSMITH_RECIPES: FinishedGoodsRecipe[] = [
  {
    recipeId: 'bs-silver-longsword',
    name: 'Forge Silver Longsword',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 4 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.HARDWOOD, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_LONGSWORD, quantity: 1 }],
    craftTime: 45,
    xpReward: 25,
    tier: 3,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 13,
      damageType: 'slashing',
      speed: 9,
      requiredStr: 10,
      requiredDex: 5,
      durability: 130,
      levelToEquip: 7,
    },
    specialization: 'WEAPONSMITH',
  },
  {
    recipeId: 'bs-silver-dagger',
    name: 'Forge Silver Dagger',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_DAGGER, quantity: 1 }],
    craftTime: 30,
    xpReward: 20,
    tier: 3,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 9,
      damageType: 'piercing',
      speed: 13,
      requiredStr: 4,
      requiredDex: 8,
      durability: 90,
      levelToEquip: 7,
    },
    specialization: 'WEAPONSMITH',
  },
  {
    recipeId: 'bs-silver-battleaxe',
    name: 'Forge Silver Battleaxe',
    professionRequired: 'BLACKSMITH',
    levelRequired: 8,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 5 },
      { itemName: ITEMS.COAL, quantity: 3 },
      { itemName: ITEMS.HARDWOOD, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_BATTLEAXE, quantity: 1 }],
    craftTime: 50,
    xpReward: 28,
    tier: 3,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 16,
      damageType: 'slashing',
      speed: 7,
      requiredStr: 12,
      requiredDex: 3,
      durability: 140,
      levelToEquip: 7,
      twoHanded: true,
    },
    specialization: 'WEAPONSMITH',
  },
  {
    recipeId: 'bs-war-pick',
    name: 'Forge War Pick',
    professionRequired: 'BLACKSMITH',
    levelRequired: 8,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 4 },
      { itemName: ITEMS.COAL, quantity: 2 },
      { itemName: ITEMS.HARDWOOD, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.WAR_PICK, quantity: 1 }],
    craftTime: 45,
    xpReward: 25,
    tier: 3,
    outputItemType: 'WEAPON',
    equipSlot: 'MAIN_HAND',
    outputStats: {
      baseDamage: 12,
      damageType: 'piercing',
      speed: 9,
      requiredStr: 9,
      requiredDex: 4,
      durability: 120,
      levelToEquip: 7,
    },
    specialization: 'WEAPONSMITH',
  },
];

// ============================================================
// ARMORER — Craftsman Branch (L7-8)
// ============================================================

const ARMORER_RECIPES: FinishedGoodsRecipe[] = [
  {
    recipeId: 'bs-silver-studded-plate',
    name: 'Forge Silver-Studded Plate',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 6 },
      { itemName: ITEMS.COAL, quantity: 3 },
      { itemName: ITEMS.HARDWOOD, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_STUDDED_PLATE, quantity: 1 }],
    craftTime: 50,
    xpReward: 28,
    tier: 3,
    outputItemType: 'ARMOR',
    equipSlot: 'CHEST',
    outputStats: {
      armor: 11,
      durability: 160,
      levelToEquip: 7,
      requiredStr: 10,
      movementPenalty: 1,
      stealthPenalty: 3,
    },
    specialization: 'ARMORER',
  },
  {
    recipeId: 'bs-silver-helm',
    name: 'Forge Silver Helm',
    professionRequired: 'BLACKSMITH',
    levelRequired: 7,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 3 },
      { itemName: ITEMS.COAL, quantity: 2 },
    ],
    outputs: [{ itemName: ITEMS.SILVER_HELM, quantity: 1 }],
    craftTime: 35,
    xpReward: 22,
    tier: 3,
    outputItemType: 'ARMOR',
    equipSlot: 'HEAD',
    outputStats: {
      armor: 6,
      durability: 120,
      levelToEquip: 7,
      requiredStr: 6,
      movementPenalty: 0,
      stealthPenalty: 1,
    },
    specialization: 'ARMORER',
  },
  {
    recipeId: 'bs-hardwood-tower-shield',
    name: 'Craft Hardwood Tower Shield',
    professionRequired: 'BLACKSMITH',
    levelRequired: 8,
    inputs: [
      { itemName: ITEMS.HARDWOOD, quantity: 4 },
      { itemName: ITEMS.SILVER_ORE, quantity: 2 },
      { itemName: ITEMS.COAL, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.HARDWOOD_TOWER_SHIELD, quantity: 1 }],
    craftTime: 45,
    xpReward: 25,
    tier: 3,
    outputItemType: 'ARMOR',
    equipSlot: 'OFF_HAND',
    outputStats: {
      armor: 8,
      durability: 140,
      levelToEquip: 7,
      requiredStr: 8,
      movementPenalty: 1,
      stealthPenalty: 2,
    },
    specialization: 'ARMORER',
  },
  {
    recipeId: 'bs-reinforced-chain-leggings',
    name: 'Forge Reinforced Chain Leggings',
    professionRequired: 'BLACKSMITH',
    levelRequired: 8,
    inputs: [
      { itemName: ITEMS.SILVER_ORE, quantity: 5 },
      { itemName: ITEMS.COAL, quantity: 3 },
      { itemName: ITEMS.HARDWOOD, quantity: 1 },
    ],
    outputs: [{ itemName: ITEMS.REINFORCED_CHAIN_LEGGINGS, quantity: 1 }],
    craftTime: 45,
    xpReward: 25,
    tier: 3,
    outputItemType: 'ARMOR',
    equipSlot: 'LEGS',
    outputStats: {
      armor: 7,
      durability: 130,
      levelToEquip: 7,
      requiredStr: 7,
      movementPenalty: 0,
      stealthPenalty: 2,
    },
    specialization: 'ARMORER',
  },
];

// ============================================================
// COMBINED EXPORT
// ============================================================

export const BLACKSMITH_RECIPES: FinishedGoodsRecipe[] = [
  ...APPRENTICE_RECIPES,
  ...JOURNEYMAN_RECIPES,
  ...TOOLSMITH_RECIPES,
  ...WEAPONSMITH_RECIPES,
  ...ARMORER_RECIPES,
];
